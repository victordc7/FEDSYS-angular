<div class="col-xs-12 container">
  <div class="row">
    <form
      [formGroup]="tourneyRegistrationForm"
      (ngSubmit)="createTourney()"
      class="w-50 center mat-typography"
      style="width: 100%">

      <mat-form-field
        color="access"
        class="black"
        style="padding: 10px">
          <input
            matInput
            type="text" color="primary"
            formControlName="name"
            placeholder="Nombre del torneo"
            />
          <mat-error>

          </mat-error>
      </mat-form-field>
    </form>

    <button
      mat-raised-button
      color="primary"
      (click)="createTourney()">
      Guardar
    </button>
  </div>

    <br>

      <!-- <span
        (click)="deleteItem(i,'subcategory')"
        style="cursor: pointer">
        <mat-icon>
          cancel
        </mat-icon>
      </span> -->

  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
    <!-- This is the tree node template for leaf nodes -->
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
      <!-- use a disabled button to provide padding for tree leaf -->
      <button mat-icon-button disabled></button>
      {{node.name}}
    </mat-tree-node>
    <!-- This is the tree node template for expandable nodes -->
    <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding>
      <button mat-icon-button matTreeNodeToggle
              [attr.aria-label]="'toggle ' + node.name">
        <mat-icon class="mat-icon-rtl-mirror">
          {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
        </mat-icon>
      </button>
      {{node.name}}
    </mat-tree-node>
  </mat-tree>
  <br>
  <div class="row">
    <button mat-raised-button color="primary" (click)="addCategory('add')">
      Agregar Categoria
    </button>
    <button mat-raised-button (click)="addCategory('create')">
      Crear Categoria
    </button>
  </div>
  <br/>
  <hr/>
  <br/>
  <div class="col-xs-12"
      *ngFor="let competitor of competitors; let i = index"
      index="i">
      <h4
        class="list-group-item-heading">
        {{ competitor.firstName }} {{ competitor.lastName }} {{competitor.personalID}} {{competitor.age}} {{competitor.city}}
        <span
          (click)="deleteItem(i,'competitor')"
          style="cursor: pointer">
          <mat-icon>
            cancel
          </mat-icon>
        </span>
        <span
        (click)="editItem(i, 'competitor', competitor)"
        style="cursor: pointer">
        <mat-icon>
          mode_edit
        </mat-icon>
      </span>
      </h4>
      <p
        class="list-group-item-text"
        *ngFor="let subcategory of competitor.categories">
          {{subcategory['parent']['name']}} / {{subcategory['name']}}
      </p>
  </div>

  <button mat-raised-button (click)="addCompetitor()">
    Agregar Competidor
  </button>

  <br/>
  <hr/>
  <br/>
  <div class="col-xs-12"
      *ngFor="let judge of judges; let i = index"
      index="i">
      <h4
        class="list-group-item-heading">
        {{ judge.firstName }} {{ judge.lastName }}
        <span
          (click)="deleteItem(i,'judge')"
          style="cursor: pointer">
          <mat-icon>
            cancel
          </mat-icon>
        </span>
        <span
        (click)="editItem(i, 'judge', judge)"
        style="cursor: pointer">
        <mat-icon>
          mode_edit
        </mat-icon>
      </span>
      </h4>
  </div>
  <button mat-raised-button (click)="addJudge()">
    Agregar Juez
  </button>
  <br>
  <br>
</div>

